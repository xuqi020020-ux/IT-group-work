{% extends "base.html" %}
{% block title %}Dashboard · NoteHub{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h4 mb-1">My Documents</h1>
    <div class="text-muted">Create, edit, and manage your notes.</div>
  </div>
  <a class="btn btn-primary" href="{% url 'core:document_create' %}">+ New Document</a>
</div>

<form class="row g-2 mb-3" method="get">
  <div class="col-md-8">
    <input class="form-control" type="text" name="q" placeholder="Search by title or author..." value="{{ q|default:'' }}">
  </div>
  <div class="col-md-2">
    <button class="btn btn-outline-primary w-100" type="submit">Search</button>
  </div>
  <div class="col-md-2">
    <a class="btn btn-outline-secondary w-100" href="{% url 'core:dashboard' %}">Clear</a>
  </div>
</form>


<div class="card">
  <div class="card-body">
    {% if documents %}
      <div class="list-group">
        {% for doc in documents %}
          <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
             href="{% url 'core:document_detail' doc.pk %}">
            <div>
              <div class="fw-semibold">{{ doc.title }}</div>
              <div class="small text-muted">Updated {{ doc.updated_at|date:"Y-m-d H:i" }}</div>
            </div>
            <span class="badge bg-secondary">{{ doc.visibility_status }}</span>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-muted">No documents yet. Click “New Document” to create one.</div>
    {% endif %}
  </div>
</div>
{% endblock %}

